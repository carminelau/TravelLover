<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>TravelLover</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-woox-travel.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet"href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="adminpages/js/function.js"></script>
<!--

TemplateMo 580 Woox Travel

https://templatemo.com/tm-580-woox-travel

-->
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="https://kit.fontawesome.com/749cb2cc9d.js" crossorigin="anonymous"></script>
    <style>
        #map {
            margin: 0 auto;
            width: 100%;
            height: 500px;
        }
    </style>
  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="index.html" class="logo">
                      <div class="logo-text" style = "display: flex;height: 50px;">
                        <img src="assets/images/logoTL.png" alt="" style="width: fit-content;">

                      </div>
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">Scopri</a></li>
                        <!--<li><a href="deals.html">Deals</a></li>-->
                        <li><a href="reservation.html" class="active">Crea</a></li>
                        <li><a href="login.html">Login/Sign Up</a></li>
                    </ul>   
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <div class="second-page-heading">
    <div class="container">
      <div class="row">
        <div class="col-lg-12" style="background-color: rgba(0, 0, 0, 0.3); padding: 40px 0px 40px 0px; border-radius: 23px;">
          <h4>In base ai tuoi gusti e alle tue esigenze</h4>
          <h2>Crea il tuo itinerario ideale</h2>
          <p>Seleziona i tuoi interessi, le tempistiche richieste, il tuo mezzo di trasporto per creare un'esperienza unica solo per te</p>
          <div class="main-button"><a href="about.html">Scopri Salerno</a></div>
        </div>
      </div>
    </div>
  </div>

  <div class="more-info reservation-info">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-sm-6">
          <div class="info-item">
            <i class="fa fa-phone"></i>
            <h4>Chiamaci</h4>
            <a href="#">+123 456 789 (0)</a>
          </div>
        </div>
        <div class="col-lg-4 col-sm-6">
          <div class="info-item">
            <i class="fa fa-envelope"></i>
            <h4>Contattaci via E-mail</h4>
            <a href="#">company@email.com</a>
          </div>
        </div>
        <div class="col-lg-4 col-sm-6">
          <div class="info-item">
            <i class="fa fa-map-marker"></i>
            <h4>Visita i nostri punti informazione</h4>
            <a href="#">Via del 30 e lode, Dipartimento di Informatica</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="reservation-form">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div id="map">
               <script>
                  function resetMap() {
                      location.reload()

                  }
                  var map = L.map('map').setView([40.68154, 14.7749133], 11);
                  L.tileLayer('https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=m5sIKtQYgI1arDxvl4ob', {
                      attribution: 'Powered by <a href="https://www.geoapify.com/" target="_blank">Geoapify</a> | <a href="https://openmaptiles.org/" target="_blank">© OpenMapTiles</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap</a> contributors',
                      maxZoom: 20, id: 'osm-bright'
                  }).addTo(map);

              </script>
          </div>
          <form id="reservation-form" name="gs">
             <div class="col-lg-12">
                <h4>Crea il tuo <em>percorso</em> attraverso questo <em>Form</em></h4>
             </div>
             <div class="row">
                <label class="form-label">Punti di interesse:</label><br>
                <hr>
                <div class="col-lg-6">
                  <input type="checkbox" class="luogo" value="alberi" id="alberi">Alberi monumentali <br>
                  <input type="checkbox" class="luogo" value="vino" id="vini">Vini <br>
                  <input type="checkbox" class="luogo" value="agriturismi"> Agriturismi <br>
                  <input type="checkbox" class="luogo" value="generici" id="generici"> Altro <br>
                  <input type="checkbox" class="luogo" value="bandiere" id="bandiere"> Bandiere blu <br>
                  <input type="checkbox" class="luogo" value="biblioteche" id="biblioteche"> Biblioteche <br>
                </div>
               <div class="col-lg-6">
                  <input type="checkbox" class="luogo" value="caseifici" id="caseifici"> Caseifici <br>
                  <input type="checkbox" class="luogo" value="fattorie" id="fattorie"> Fattorie <br>
                  <input type="checkbox" class="luogo" value="luoghi-di-culto" id="culto"> Luoghi di culto <br>
                  <input type="checkbox" class="luogo" value="musei" id="musei"> Musei <br>
                  <input type="checkbox" class="luogo" value="teatri" id="teatri"> Teatri <br>
                  <input type="checkbox" class="luogo" value="torri" id="torri"> Torri e castelli
               </div>
               <hr>
               <div class="col-lg-6">
                  <label class="form-label">Mezzi di trasporto</label>
                  <input type="checkbox" class="mezzo" name="mezzo" value="auto">Auto
                  <input type="checkbox" class="mezzo" value="treno">Treno
               </div>
               <hr>
               <div class="col-lg-6">
                  <label class="form-label">A quanti chilometri da te:</label>
                  <input type="radio" name="km" class="km" value="0-5">-5km
                  <input type="radio" name="km" class="km" value="5-10">5-10km
                  <input type="radio" name="km" class="km" value="10-15">10-15km
                  <input type="radio" name="km" class="km" value="15-20">15-20km
                  <input type="radio" name="km" class="km" value="+20">+20km
                  <script>
                      var lat;
                      var long
                      if ("geolocation" in navigator) {
                          navigator.geolocation.getCurrentPosition(function(position) {
                            console.log("Latitude: " + position.coords.latitude);
                            console.log("Longitude: " + position.coords.longitude);

                            var marker = L.marker([position.coords.latitude, position.coords.longitude]).addTo(map);

                            lat=position.coords.latitude
                            long=position.coords.longitude
                          });
                        } else {
                          console.log("Geolocation is not supported by this browser.");
                        }
                  </script>
               </div>
               <hr>
             </div>
             <div class="col-lg-12">
                  <fieldset>
                      <button type="button" onclick="creaPercorsoClient('percorsoClient', getCheckedListaMezzi(), getCheckedRange(), getCheckedListaLuoghi(), lat, long)">Genera percorso</button>
                      <script>
                          function getCheckedRange(){
                              var km = document.getElementsByClassName('km');
                              var range;
                              for (i = 0; i < km.length; i++) {
                                if(km[i].checked == true)
                                    range = (km[i].value)
                              }
                              return range;
                          }
                           function getCheckedListaMezzi(){
                              var mezzi = document.getElementsByClassName('mezzo');
                              var lista_mezzi = [];
                              for (i = 0; i < mezzi.length; i++) {
                                if(mezzi[i].checked == true)
                                    lista_mezzi.push(mezzi[i].value)
                              }
                              return lista_mezzi;
                          }
                          function getCheckedListaLuoghi(){
                              var luoghi = document.getElementsByClassName('luogo');
                              var lista_luoghi = [];
                              for (i = 0; i < luoghi.length; i++) {
                                if(luoghi[i].checked == true)
                                    lista_luoghi.push(luoghi[i].value)
                              }
                              return lista_luoghi;
                          }
                          function visualizzaLuoghiSuMappa(lat, lon, nome, descrizione, totali, col="red", radius=0) {

                              var redIcon = new L.Icon({
                                    iconUrl: 'adminpages/img/marker-icon-2x-red.png',
                                    iconSize: [25, 41],
                                    iconAnchor: [12, 41],
                                    popupAnchor: [1, -34],
                                    shadowSize: [41, 41]
                              });
                              var marker = L.marker([lat, lon], {icon:redIcon});

                              if(col=="blue"){
                                 var marker = L.marker([lat, lon]);
                              }

                              var customPopup = "<b>"+nome+"</b><br><hr><p>"+descrizione+"</p>";
                              var customOptions =
                              {
                                  'maxWidth': '500',
                                  'className' : 'custom'
                              }
                              marker.bindPopup(customPopup,customOptions).addTo(map);

<!--                              navigator.geolocation.getCurrentPosition(function(position) {-->
<!--                                  var circle = L.circle([position.coords.latitude, position.coords.longitude],{-->
<!--                                      color:'green',-->
<!--                                      fillColor: '#90EE90',-->
<!--                                      fillOpacity: 0.01,-->
<!--                                      radius: (3.24*(radius)),-->
<!--                                   }).addTo(map)-->
<!--                              });-->
                           }
                      </script>
                  </fieldset>
             </div>
              <hr>

              <div id="percorso-client-result" style="margin: 0 auto;">

              </div>
          </form>
        </div>
      </div>
<!--    </div>-->
  </div>
  </div>

  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <p>Copyright © 2036 <a href="#">TravelLover</a> Company. All rights reserved.
          <br>Design: <a href="https://templatemo.com" target="_blank" title="free CSS templates">TemplateMo</a> Distribution: <a href="#" >ThemeWagon</a></p>
        </div>
      </div>
    </div>
  </footer>


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/wow.js"></script>
  <script src="assets/js/tabs.js"></script>
  <script src="assets/js/popup.js"></script>
  <script src="assets/js/custom.js"></script>

  <script>
    $(".option").click(function(){
      $(".option").removeClass("active");
      $(this).addClass("active"); 
    });
  </script>

  <script src="adminpages/js/function.js"></script>
  </body>

</html>
